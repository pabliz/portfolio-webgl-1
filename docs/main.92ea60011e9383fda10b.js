(()=>{var e,t={824:(e,t,i)=>{"use strict";var s=i(212);class n{constructor(){this.DOM={main:document.querySelector("main")},this.DOM.scrollable=this.DOM.main.querySelector("div[data-scroll]"),this.docScroll=0,this.scrollToRender=0,this.current=0,this.ease=.1,this.speed=0,this.speedTarget=0,this.setSize(),this.getScroll(),this.init(),this.style(),this.initEvents(),requestAnimationFrame((()=>this.render()))}init(){for(const e in this.renderedStyles)this.current=this.scrollToRender=this.getScroll();this.setPosition(),this.shouldRender=!0}style(){this.DOM.main.style.position="fixed",this.DOM.main.style.width=this.DOM.main.style.height="100%",this.DOM.main.style.top=this.DOM.main.style.left=0,this.DOM.main.style.overflow="hidden"}getScroll(){return this.docScroll=window.pageYOffset||document.documentElement.scrollTop,this.docScroll}initEvents(){window.onbeforeunload=function(){window.scrollTo(0,0)},window.addEventListener("resize",(()=>this.setSize())),window.addEventListener("scroll",this.getScroll.bind(this))}setSize(){document.body.style.height=`${this.DOM.scrollable.scrollHeight}px`}setPosition(){(Math.round(this.scrollToRender)!==Math.round(this.current)||this.scrollToRender<10)&&(this.DOM.scrollable.style.transform=`translate3d(0,${-1*this.scrollToRender}px,0)`)}render(){var e,t,i;this.speed=Math.min(Math.abs(this.current-this.scrollToRender),200)/200,this.speedTarget+=.2*(this.speed-this.speedTarget),this.current=this.getScroll(),this.scrollToRender=(e=this.scrollToRender,t=this.current,(1-(i=this.ease))*e+i*t),this.setPosition()}}var o=i(365),r=i(347),a=i.n(r),h=i(564),l=i.n(h),c=i(358),d=i(858),m=i.n(d),v=i(807),u=i.n(v),g=i(926),f=i.n(g),w=i(559),p=i.n(w),y=i(786),x=i(458),P=i(531);i(484),new class{constructor(e){this.time=0,this.container=e.dom,this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.scene=new s.xsS,this.camera=new s.cPb(70,this.width/this.height,100,2e3),this.camera.position.z=600,this.camera.fov=2*Math.atan(this.height/2/600)*(180/Math.PI),this.renderer=new s.CP7({antialias:!0,alpha:!0}),this.container.appendChild(this.renderer.domElement),this.controls=new o.z(this.camera,this.renderer.domElement),this.images=[...document.querySelectorAll("img")],this.videos=[...document.querySelectorAll("video")];let t=[new Promise((e=>{new(a())("Neue Montreal Regular").load().then((()=>{e()}))})),new Promise((e=>{new(a())("Neue Montreal Light").load().then((()=>{e()}))})),new Promise((e=>{new(a())("Neue Montreal Light Italic").load().then((()=>{e()}))})),new Promise((e=>{new(a())("Neue Montreal Bold").load().then((()=>{e()}))})),new Promise(((e,t)=>{l()(document.querySelectorAll("img"),{background:!0},e)}))];this.currentScroll=0,this.raycaster=new s.iMs,this.mouse=new s.FM8,Promise.all(t).then((()=>{this.scroll=new n,this.addImages(),this.addVideos(),this.setImagesPosition(),this.setVideosPosition(),this.mouseMovement(),this.resize(),this.setupResize(),this.composerPass(),this.render()}))}composerPass(){this.composer=new y.xC(this.renderer),this.renderPass=new x.C(this.scene,this.camera),this.composer.addPass(this.renderPass),this.myEffect={uniforms:{tDiffuse:{value:null},scrollSpeed:{value:null},uTime:{value:0}},vertexShader:f(),fragmentShader:p()},this.customPass=new P.T(this.myEffect),this.customPass.renderToScreen=!0,this.composer.addPass(this.customPass)}mouseMovement(){window.addEventListener("mousemove",(e=>{this.mouse.x=e.clientX/this.width*2-1,this.mouse.y=-e.clientY/this.height*2+1,this.raycaster.setFromCamera(this.mouse,this.camera);const t=this.raycaster.intersectObjects(this.scene.children);t.length>0&&(t[0].object.material.uniforms.uHover.value=t[0].uv)}),!1)}setupResize(){window.addEventListener("resize",this.resize.bind(this))}resize(){this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix()}setVideosPosition(){this.videoStore.forEach((e=>{e.mesh.position.y=this.currentScroll-e.top+this.height/2-e.height/2,e.mesh.position.x=e.left-this.width/2+e.width/2}))}setImagesPosition(){this.imageStore.forEach((e=>{e.mesh.position.y=this.currentScroll-e.top+this.height/2-e.height/2,e.mesh.position.x=e.left-this.width/2+e.width/2}))}addVideos(){this.material=new s.jyz({uniforms:{uTime:{value:0},uImage:{value:0},uHover:{value:new s.FM8(.5,.5)},uHoverState:{value:0}},side:s.ehD,fragmentShader:u(),vertexShader:m()}),this.materials=[],this.videoStore=this.videos.map((e=>{let t=e.getBoundingClientRect(),i=new s.BKK(t.width,t.height,20,20),n=new s.fO1(e);n.needsUpdate=!0;let o=this.material.clone();e.addEventListener("mouseenter",(()=>{c.ZP.to(o.uniforms.uHoverState,{duration:1,value:1})})),e.addEventListener("mouseout",(()=>{c.ZP.to(o.uniforms.uHoverState,{duration:1,value:0})})),this.materials.push(o),o.uniforms.uImage.value=n;let r=new s.Kj0(i,o);return this.scene.add(r),{video:e,mesh:r,top:t.top,left:t.left,width:t.width,height:t.height}}))}addImages(){this.material=new s.jyz({uniforms:{uTime:{value:0},uImage:{value:0},uHover:{value:new s.FM8(.5,.5)},uHoverState:{value:0}},side:s.ehD,fragmentShader:u(),vertexShader:m()}),this.materials=[],this.imageStore=this.images.map((e=>{let t=e.getBoundingClientRect(),i=new s.BKK(t.width,t.height,20,20),n=new s.xEZ(e);n.needsUpdate=!0;let o=this.material.clone();e.addEventListener("mouseenter",(()=>{c.ZP.to(o.uniforms.uHoverState,{duration:1,value:1})})),e.addEventListener("mouseout",(()=>{c.ZP.to(o.uniforms.uHoverState,{duration:1,value:0})})),this.materials.push(o),o.uniforms.uImage.value=n;let r=new s.Kj0(i,o);return this.scene.add(r),{img:e,mesh:r,top:t.top,left:t.left,width:t.width,height:t.height}}))}addObjects(){this.geometry=new s.BKK(100,100,10,10),this.material=new s.jyz({uniforms:{uTime:{value:0}},side:s.ehD,fragmentShader:u(),vertexShader:m(),wireframe:!0}),this.mesh=new s.Kj0(this.geometry,this.material),this.scene.add(this.mesh)}render(){this.time+=.5,this.scroll.render(),this.currentScroll=this.scroll.scrollToRender,this.setImagesPosition(),this.setVideosPosition(),this.customPass.uniforms.scrollSpeed.value=this.scroll.speedTarget,this.materials.forEach((e=>{e.uniforms.uTime.value=this.time})),this.renderer.render(this.scene,this.camera),this.composer.render(),window.requestAnimationFrame(this.render.bind(this))}}({dom:document.getElementById("container")});const z=document.querySelector(".preloader"),S=document.querySelector("main");window.addEventListener("load",(()=>{c.ZP.to(z,{delay:2,duration:.1,autoAlpha:0}),c.ZP.from(S,{background:"#17191C",delay:1,duration:.3})}));const b=document.querySelector(".cursor");document.addEventListener("mousemove",(e=>{c.ZP.to(b,{x:-e.pageX,height:e.pageY})})),document.addEventListener("dblclick",(()=>{b.classList.toggle("hidden")})),new class{constructor(){this.swapText=document.querySelector("#swap"),this.awesome="awesome",this.fun="fun!  ;-)",this.beautiful="beautiful",this.amazing="amazing",this.words=[this.awesome,this.fun,this.beautiful,this.amazing],this.timer=e=>new Promise((t=>setTimeout(t,e))),this.swap()}async swap(){if(this.swapText)for(let e=0;e<this.words.length;e++)this.swapText.textContent=this.words[e],await this.timer(5e3),1===e&&this.swapText.classList.toggle("red"),2===e&&this.swapText.classList.toggle("yellow"),3===e&&this.swap()}}},559:e=>{e.exports="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D tDiffuse;\nuniform float scrollSpeed;\nvarying vec2 vUv;\nvoid main() {\n\tvec2 newUV = vUv;\n\tfloat bottomArea = smoothstep(0.15, 0.0, vUv.y);\n\tfloat topArea = smoothstep(0.925, 1.0, vUv.y);\n\tnewUV.x -= (((sin(vUv.x - 0.5) * bottomArea) * scrollSpeed) * 0.2);\n\tnewUV.x -= (((sin(vUv.x) * 0.5) * topArea) * scrollSpeed);\n\tgl_FragColor = texture2D(tDiffuse, newUV);\n}\n"},926:e=>{e.exports="varying vec2 vUv;\nvoid main() {\n\tvUv = uv;\n\tgl_Position = (projectionMatrix * modelViewMatrix) * vec4(position, 1.0);\n}\n"},807:e=>{e.exports="#ifdef GL_FRAGMENT_PRECISION_HIGH\nprecision highp float;\n#else\nprecision mediump float;\n#endif\nuniform sampler2D uImage;\nuniform float uTime;\nvarying float vNoise;\nvarying vec2 vUv;\nvoid main() {\n\tvec2 newUV = vUv;\n\tvec4 view = texture2D(uImage, newUV);\n\tgl_FragColor = view;\n\tgl_FragColor.rgb += (0.02 * vec3(vNoise));\n}\n"},858:e=>{e.exports="vec4 permute(vec4 x) {\n\treturn mod(((x * 34.0) + 1.0) * x, 289.0);\n}\nvec4 taylorInvSqrt(vec4 r) {\n\treturn 1.79284291400159 - (0.85373472095314 * r);\n}\nvec3 fade(vec3 t) {\n\treturn ((t * t) * t) * ((t * ((t * 6.0) - 15.0)) + 10.0);\n}\nfloat cnoise(vec3 P) {\n\tvec3 Pi0 = floor(P);\n\tvec3 Pi1 = Pi0 + vec3(1.0);\n\tPi0 = mod(Pi0, 289.0);\n\tPi1 = mod(Pi1, 289.0);\n\tvec3 Pf0 = fract(P);\n\tvec3 Pf1 = Pf0 - vec3(1.0);\n\tvec4 ix = vec4(Pi0.x, Pi1.x, Pi0.x, Pi1.x);\n\tvec4 iy = vec4(Pi0.yy, Pi1.yy);\n\tvec4 iz0 = Pi0.zzzz;\n\tvec4 iz1 = Pi1.zzzz;\n\tvec4 ixy = permute(permute(ix) + iy);\n\tvec4 ixy0 = permute(ixy + iz0);\n\tvec4 ixy1 = permute(ixy + iz1);\n\tvec4 gx0 = ixy0 / 7.0;\n\tvec4 gy0 = fract(floor(gx0) / 7.0) - 0.5;\n\tgx0 = fract(gx0);\n\tvec4 gz0 = (vec4(0.5) - abs(gx0)) - abs(gy0);\n\tvec4 sz0 = step(gz0, vec4(0.0));\n\tgx0 -= (sz0 * (step(0.0, gx0) - 0.5));\n\tgy0 -= (sz0 * (step(0.0, gy0) - 0.5));\n\tvec4 gx1 = ixy1 / 7.0;\n\tvec4 gy1 = fract(floor(gx1) / 7.0) - 0.5;\n\tgx1 = fract(gx1);\n\tvec4 gz1 = (vec4(0.5) - abs(gx1)) - abs(gy1);\n\tvec4 sz1 = step(gz1, vec4(0.0));\n\tgx1 -= (sz1 * (step(0.0, gx1) - 0.5));\n\tgy1 -= (sz1 * (step(0.0, gy1) - 0.5));\n\tvec3 g000 = vec3(gx0.x, gy0.x, gz0.x);\n\tvec3 g100 = vec3(gx0.y, gy0.y, gz0.y);\n\tvec3 g010 = vec3(gx0.z, gy0.z, gz0.z);\n\tvec3 g110 = vec3(gx0.w, gy0.w, gz0.w);\n\tvec3 g001 = vec3(gx1.x, gy1.x, gz1.x);\n\tvec3 g101 = vec3(gx1.y, gy1.y, gz1.y);\n\tvec3 g011 = vec3(gx1.z, gy1.z, gz1.z);\n\tvec3 g111 = vec3(gx1.w, gy1.w, gz1.w);\n\tvec4 norm0 = taylorInvSqrt(vec4(dot(g000, g000), dot(g010, g010), dot(g100, g100), dot(g110, g110)));\n\tg000 *= norm0.x;\n\tg010 *= norm0.y;\n\tg100 *= norm0.z;\n\tg110 *= norm0.w;\n\tvec4 norm1 = taylorInvSqrt(vec4(dot(g001, g001), dot(g011, g011), dot(g101, g101), dot(g111, g111)));\n\tg001 *= norm1.x;\n\tg011 *= norm1.y;\n\tg101 *= norm1.z;\n\tg111 *= norm1.w;\n\tfloat n000 = dot(g000, Pf0);\n\tfloat n100 = dot(g100, vec3(Pf1.x, Pf0.yz));\n\tfloat n010 = dot(g010, vec3(Pf0.x, Pf1.y, Pf0.z));\n\tfloat n110 = dot(g110, vec3(Pf1.xy, Pf0.z));\n\tfloat n001 = dot(g001, vec3(Pf0.xy, Pf1.z));\n\tfloat n101 = dot(g101, vec3(Pf1.x, Pf0.y, Pf1.z));\n\tfloat n011 = dot(g011, vec3(Pf0.x, Pf1.yz));\n\tfloat n111 = dot(g111, Pf1);\n\tvec3 fade_xyz = fade(Pf0);\n\tvec4 n_z = mix(vec4(n000, n100, n010, n110), vec4(n001, n101, n011, n111), fade_xyz.z);\n\tvec2 n_yz = mix(n_z.xy, n_z.zw, fade_xyz.y);\n\tfloat n_xyz = mix(n_yz.x, n_yz.y, fade_xyz.x);\n\treturn 2.2 * n_xyz;\n}\nuniform float uTime;\nuniform vec2 uHover;\nuniform float uHoverState;\nvarying float vNoise;\nvarying vec2 vUv;\nvoid main() {\n\tvec3 newposition = position;\n\tfloat PI = 3.14159265359;\n\tfloat dist = distance(uv, uHover);\n\tnewposition.z += ((uHoverState * 5.0) * sin((dist * 5.0) + (0.1 * uTime)));\n\tgl_Position = (projectionMatrix * modelViewMatrix) * vec4(newposition, 1.0);\n\tvNoise = uHoverState * sin((dist * 10.0) - (0.1 * uTime));\n\tvUv = uv;\n}\n"}},i={};function s(e){var n=i[e];if(void 0!==n)return n.exports;var o=i[e]={exports:{}};return t[e].call(o.exports,o,o.exports,s),o.exports}s.m=t,e=[],s.O=(t,i,n,o)=>{if(!i){var r=1/0;for(c=0;c<e.length;c++){for(var[i,n,o]=e[c],a=!0,h=0;h<i.length;h++)(!1&o||r>=o)&&Object.keys(s.O).every((e=>s.O[e](i[h])))?i.splice(h--,1):(a=!1,o<r&&(r=o));if(a){e.splice(c--,1);var l=n();void 0!==l&&(t=l)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[i,n,o]},s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},s.d=(e,t)=>{for(var i in t)s.o(t,i)&&!s.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};s.O.j=t=>0===e[t];var t=(t,i)=>{var n,o,[r,a,h]=i,l=0;if(r.some((t=>0!==e[t]))){for(n in a)s.o(a,n)&&(s.m[n]=a[n]);if(h)var c=h(s)}for(t&&t(i);l<r.length;l++)o=r[l],s.o(e,o)&&e[o]&&e[o][0](),e[r[l]]=0;return s.O(c)},i=self.webpackChunkportfolio_brutalist_webgl=self.webpackChunkportfolio_brutalist_webgl||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var n=s.O(void 0,[421],(()=>s(824)));n=s.O(n)})();